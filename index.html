<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>GF-based speech recognition grammars for Estonian</title>
<meta name="Author" content="Kaarel Kaljurand"/>

<!--
<script type="text/javascript"
src="http://kaljurand.github.com/toc.js/toc.js"></script>
-->

<style type="text/css">
h1, h2, h3 { font-family: sans-serif }
pre { padding: 1em 1em 1em 1em; color: inherit; background-color: #eee; border: 1px solid silver }
body { font-family: serif; margin: 1em 1em 1em 1em; }
address { border-top: 1px solid black; margin-top: 2em; padding-top: 0.5em }
tbody tr:nth-child(even) td { background-color: #eff1f3 }
td { border: 1px solid black; padding: 0.3em 0.3em 0.3em 0.3em }
table { empty-cells: show; border-collapse: collapse; margin-left: 1em }
thead { font-weight: bold; background-color: silver; font-variant: small-caps }
td { vertical-align: top }
.wip { border: red 2px dotted; padding: 1em 1em 1em 1em }
a { text-decoration: none }
a:hover { text-decoration: underline }
</style>
</head>

<!--
<body onload="toc(1, true)">
-->
<body>

<h1>GF-based speech recognition grammars for Estonian</h1>

<h2>Introduction</h2>

<p>The grammars that are available on this page cover some fixed domains (e.g. calculator, maps) and
support two languages <em>Est</em> and <em>App</em> for talking about
these domains.</p>

<ul>
<li><em>Est</em> corresponds to spoken Estonian and is meant to guide the
speech recognizer (i.e. it is compiled into JSGF)</li>
<li><em>App</em>
corresponds to a machine language (e.g. standard calculator,
Google Maps query language)</li>
</ul>

<p><a href="http://www.grammaticalframework.org/">Grammatical Framework (GF)</a> is a grammar
formalism with a focus on translation.
Describing the domains and languages in GF allows us to translate
from <em>Est</em> to <em>App</em> in order to "execute" an Estonian utterance.
For example, a spoken input (in <em>Est</em>):</p>

<pre>
Algus Keskuse kaheksa teist Lõpp Filtri tee Tallinn
(Begin Keskuse eighteen End Filtri street Tallinn)
</pre>

<p>could be translated into Google Maps query language (<em>App</em>)</p>

<pre>
FROM Keskuse 18 , Tallinn TO Filtri tee , Tallinn
</pre>

<p>which can be directly executed by resolving the URL</p>
<blockquote>
<a href="http://maps.google.com/maps?q=FROM+Keskuse+18+,+Tallinn+TO+Filtri+tee+,+Tallinn">http://maps.google.com/maps?q=FROM+Keskuse+18+,+Tallinn+TO+Filtri+tee+,+Tallinn</a>
</blockquote>


<h2>Grammars</h2>

<p>The grammars can be downloaded in the (binary) PGF-format. This format
can be used directly in applications (e.g. via the
<a href="https://github.com/GrammaticalFramework/JPGF">JPGF Java library</a>) or it
can be opened by the GF commandline tool and converted into other formats
(e.g. JSGF, Javascript, ...).</p>

<p>To get an overview of the sentences allowed by the grammars, look at the
examples. Note that the examples have been obtained by random generation
(which doesn't always agree with common sense but which does convey some idea of what
is syntactically possible in the described languages).</p>

<p>The source code of all the grammars is also available, see
<a href="https://github.com/Kaljurand/Grammars/">http://github.com/Kaljurand/Grammars/</a>.</p>

<table>
<thead>
<tr>
<td>Name</td>
<td>Description</td>
<td>Examples</td>
<td>PGF</td>
</tr>
</thead>
<tbody>
<tr>
<td>Action</td>
<td>Direction + Calc</td>
<td><a href="grammars/gr/Action.txt"></a></td>
<td><a href="grammars/pgf/Action.pgf">pgf</a></td>
</tr>

<tr>
<td>Address</td>
<td>Tallinn's street addresses, e.g. "Lossi plats kaks"</td>
<td><a href="grammars/gr/Address.txt">txt</a></td>
<td><a href="grammars/pgf/Address.pgf"></a></td>
</tr>

<tr>
<td>Calc</td>
<td>Exp + Unitconv</td>
<td><a href="grammars/gr/Calc.txt">txt</a></td>
<td><a href="grammars/pgf/Calc.pgf">pgf</a></td>
</tr>

<tr>
<td>Direction</td>
<td>Address + FROM-TO queries over addresses</td>
<td><a href="grammars/gr/Direction.txt">txt</a></td>
<td><a href="grammars/pgf/Direction.pgf">pgf</a></td>
</tr>

<tr>
<td>Estvrp</td>
<td>Estonian vehicle registration plate language, e.g. "ABC 123"</td>
<td><a href="grammars/gr/Estvrp.txt">txt</a></td>
<td><a href="grammars/pgf/Estvrp.pgf">pgf</a></td>
</tr>

<tr>
<td>ExpEstl</td>
<td>Arithmetical expressions, e.g. "(((1 + -2.3) * PI) ^ 5)"</td>
<td><a href="grammars/gr/Exp.txt">txt</a></td>
<td><a href="grammars/pgf/Exp.pgf"></a></td>
</tr>

<tr>
<td>Go</td>
<td>Tiny example grammar</td>
<td><a href="grammars/gr/Go.txt">txt</a></td>
<td><a href="grammars/pgf/Go.pgf">pgf</a></td>
</tr>

<tr>
<td>Symbols</td>
<td>Arbitrary length sequence of digits and Estonian letters</td>
<td><a href="grammars/gr/Symbols.txt">txt</a></td>
<td><a href="grammars/pgf/Symbols.pgf">pgf</a></td>
</tr>

<tr>
<td>Unitconv</td>
<td>Unit conversion expressions, e.g. "12.34 km^2 in ft^2"</td>
<td><a href="grammars/gr/Unitconv.txt">txt</a></td>
<td><a href="grammars/pgf/Unitconv.pgf"></a></td>
</tr>
</tbody>
</table>

<p>The above table lists only the top level grammars.
The full module import-hierarchy of the abstract grammars is depicted by the
following diagram.</p>

<div class="image">
<img src="images/grammars_abstract.svg" alt="Abstract grammar component hierarchy"/>
</div>

<p>See also <a href="images/grammars.svg">this diagram</a> that covers
both the abstract and concrete grammars. (The diagrams use the SVG format, you need
a modern browser to view them.)</p>

<h2>Examples</h2>

<p>Examples of using the PGF file with the GF commandline tool.</p>

<h3>Translating</h3>

<p>Translation is performed by parsing as <em>Est</em> and linearizing the resulting
syntax tree into <em>App</em>.</p>

<pre>
$ gf Direction.pgf
Direction> parse -lang=DirectionEst "Algus Keskuse kaheksa teist Lõpp Filtri tee Tallinn" | linearize -lang=DirectionApp
FROM Keskuse 1 8 , Tallinn TO Filtri tee , Tallinn
</pre>


<h3>Generating JSGF</h3>

<pre>
$ gf --make --output-format=jsgf Symbols.pgf
Reading Symbols.pgf...
Refusing to overwrite Symbols.pgf
Writing SymbolsApp.jsgf...
Writing SymbolsEst.jsgf...
</pre>


<h2>Contributing</h2>

<p>Everybody is welcome to contribute grammars to this project provided
that the grammar is made available as open source. If you would like
to contribute a grammar please proceed by forking the
<a href="https://github.com/Kaljurand/Grammars/">Grammars-project</a>
on GitHub, adding your grammar to the fork, and submitting the addition
via a Pull Request.</p>

<address>
Kaarel Kaljurand (kaljurand@gmail.com),
2011-10-14
</address>

</body>
</html>
